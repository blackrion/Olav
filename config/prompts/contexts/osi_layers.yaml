# OSI Layer Configuration for Supervisor-Driven Deep Dive Workflow
# This file defines the network layer metadata used for troubleshooting diagnostics.
#
# Each layer contains:
#   - name: Human-readable layer name
#   - description: Brief description of what this layer covers
#   - suzieq_tables: SuzieQ tables relevant to this layer
#   - keywords: Keywords that indicate queries related to this layer
#
# Used by: src/olav/workflows/supervisor_driven.py

layers:
  L1:
    name: Physical Layer
    description: Interface status, error counters, link state, cables
    suzieq_tables:
      - interfaces
      - device
    keywords:
      - interface
      - link
      - down
      - up
      - cable
      - physical

  L2:
    name: Data Link Layer
    description: VLAN, MAC table, STP, LLDP neighbors
    suzieq_tables:
      - vlan
      - macs
      - lldp
      - stp
    keywords:
      - vlan
      - mac
      - stp
      - lldp
      - switch
      - layer2

  L3:
    name: Network Layer
    description: IP addresses, routing table, BGP/OSPF, ARP
    suzieq_tables:
      - routes
      - bgp
      - ospf
      - arpnd
      - address
    keywords:
      - route
      - routing
      - bgp
      - ospf
      - arp
      - ip
      - layer3
      - network

  L4:
    name: Transport Layer
    description: TCP/UDP connections, session state, NAT
    suzieq_tables: []  # Limited SuzieQ coverage for L4
    keywords:
      - tcp
      - udp
      - session
      - nat
      - layer4
      - transport

# Confidence thresholds for layer diagnostics
thresholds:
  min_acceptable_confidence: 0.5    # 50% minimum required
  suzieq_max_confidence: 0.60       # Historical data cap (SuzieQ limitation)
  realtime_confidence: 0.95         # CLI/NETCONF verification provides higher confidence

# Default layer order for systematic troubleshooting
layer_order:
  - L1
  - L2
  - L3
  - L4
